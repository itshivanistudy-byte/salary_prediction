# -*- coding: utf-8 -*-
"""salary_deploy.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1ipm6uCzC15huzJWl1WYie7dQbV8Lgg20
"""

# import libraries
import numpy as np
import joblib
import pandas as pd
import streamlit as st

model = joblib.load("model.pkl")
encoders = joblib.load("label_encoder_sp.pkl")

st.title("salary prediction App")

age = st.number_input("Age", 18, 65, 25)
gender = st.selectbox("Gender", encoders["Gender"].classes_)
education = st.selectbox("Education Level", encoders["Education Level"].classes_)
job = st.selectbox("Job Title", encoders["Job Title"].classes_)
experience = st.number_input("Years of Experience", 0.0, 40.0, 2.0)

# ----------- CREATE DATAFRAME -------------
data = pd.DataFrame({
    "Age": [age],
    "Gender": [gender],
    "Education Level": [education],
    "Job Title": [job],
    "Years of Experience": [experience]
})

# -------- PREDICT --------
if st.button("Predict Salary"):
    df = data.copy()

    for col in encoders:
        df[col] = encoders[col].transform(df[col])

    prediction = model.predict(df)
    result = prediction

    st.success(f"Predicted Salary: {prediction[0]:,.2f}")
    st.success(f"Result: {result[0]}")

